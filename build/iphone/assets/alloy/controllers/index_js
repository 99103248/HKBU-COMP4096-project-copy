function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(t){if(!t||!t.fromAdapter){e.opts||{};for(var i=u.models,r=i.length,o=[],a=0;r>a;a++){var n=i[a];n.__transform={};var _=Ti.UI.createTableViewRow({layout:"horizontal"});o.push(_);var c=Ti.UI.createTextArea({editable:"false",font:"",textAlign:"left",width:"150dp",left:"20dp",value:"undefined"!=typeof n.__transform.item_name?n.__transform.item_name:n.get("item_name")});_.add(c);var h=Ti.UI.createTextArea({editable:"false",font:"",textAlign:"center",width:"12dp",left:"50dp",value:"undefined"!=typeof n.__transform.item_number?n.__transform.item_number:n.get("item_number")});_.add(h);var p=Ti.UI.createTextArea({editable:"false",font:"",textAlign:"right",width:"50dp",left:"50dp",value:"undefined"!=typeof n.__transform.total_price?n.__transform.total_price:n.get("total_price")});_.add(p);var y=Ti.UI.createButton({title:"Delete",textAlign:"center",left:"85%",cid:"undefined"!=typeof n.__transform.id?n.__transform.id:n.get("id")});_.add(y),s?l.addListener(y,"click",s):d["__alloyId78!click!deleteOne"]=!0}l.__views.__alloyId67.setData(o)}}function t(){y=0;var e=v.length;if(e>0)for(var t=0;e>t;t++){var i=v.at(t);y+=i.get("total_price")}o()}function i(){var e=Alloy.createController("categories");l.index.activeTab.open(e.getView())}function r(){var e=Alloy.createController("about");Alloy.Globals.tabGroup.activeTab.open(e.getView())}function o(){l.totalPrice.text="Total Price: "+y}function a(){var e=v.length;if(e>0)for(var t=0;e>t;t++){var i=v.at(0);i.destroy()}else alert("The cart is already empty now!");y=0,o()}function s(e){var t=v.get(e.source.cid);t.destroy(),y-=t.get("total_price"),o()}require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="index",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var l=this,n={},d={};Alloy.Collections.instance("items"),Alloy.Collections.instance("cart");var c=[];l.__views.__alloyId51=Ti.UI.createWindow({backgroundColor:"#fff",title:"Home Page",id:"__alloyId51"});var h=[];l.__views.__alloyId54=Ti.UI.createTableViewRow({id:"__alloyId54"}),h.push(l.__views.__alloyId54),l.__views.__alloyId55=Ti.UI.createView({height:"80%",id:"__alloyId55"}),l.__views.__alloyId54.add(l.__views.__alloyId55),l.__views.__alloyId56=Ti.UI.createImageView({image:"/shopnow.png",id:"__alloyId56"}),l.__views.__alloyId55.add(l.__views.__alloyId56),i?l.addListener(l.__views.__alloyId56,"click",i):d["$.__views.__alloyId56!click!categories"]=!0,l.__views.__alloyId57=Ti.UI.createTableViewRow({id:"__alloyId57"}),h.push(l.__views.__alloyId57),l.__views.__alloyId58=Ti.UI.createView({height:"17%",id:"__alloyId58"}),l.__views.__alloyId57.add(l.__views.__alloyId58),r?l.addListener(l.__views.__alloyId58,"click",r):d["$.__views.__alloyId58!click!about"]=!0,l.__views.__alloyId59=Ti.UI.createTextField({editable:"false",value:"About",id:"__alloyId59"}),l.__views.__alloyId58.add(l.__views.__alloyId59),l.__views.__alloyId52=Ti.UI.createTableView({data:h,id:"__alloyId52"}),l.__views.__alloyId51.add(l.__views.__alloyId52),l.__views.__alloyId50=Ti.UI.createTab({window:l.__views.__alloyId51,title:"Home",icon:"home.png",id:"__alloyId50"}),c.push(l.__views.__alloyId50),l.__views.__alloyId61=Ti.UI.createWindow({backgroundColor:"#fff",title:"My Cart",id:"__alloyId61"}),t?l.addListener(l.__views.__alloyId61,"focus",t):d["$.__views.__alloyId61!focus!setTotalPrice"]=!0,l.__views.__alloyId62=Ti.UI.createView({layout:"horizontal",id:"__alloyId62"}),l.__views.__alloyId61.add(l.__views.__alloyId62),l.__views.totalPrice=Ti.UI.createLabel({width:"400dp",height:Ti.UI.SIZE,color:"#000",font:{fontSize:20,fontFamily:"Helvetica Neue"},textAlign:"center",id:"totalPrice",text:"Total Price:     0"}),l.__views.__alloyId62.add(l.__views.totalPrice),l.__views.__alloyId63=Ti.UI.createTextArea({editable:"false",font:"",textAlign:"left",width:"100dp",left:"20dp",value:"Item Name",id:"__alloyId63"}),l.__views.__alloyId62.add(l.__views.__alloyId63),l.__views.__alloyId64=Ti.UI.createTextArea({editable:"false",font:"",textAlign:"center",width:"62dp",left:"73dp",value:"Number",id:"__alloyId64"}),l.__views.__alloyId62.add(l.__views.__alloyId64),l.__views.__alloyId65=Ti.UI.createTextArea({editable:"false",font:"",textAlign:"right",width:"78dp",left:"0dp",value:"Total Price",id:"__alloyId65"}),l.__views.__alloyId62.add(l.__views.__alloyId65),l.__views.__alloyId66=Ti.UI.createButton({title:"Delete All",textAlign:"center",left:"70%",id:"__alloyId66"}),l.__views.__alloyId62.add(l.__views.__alloyId66),a?l.addListener(l.__views.__alloyId66,"click",a):d["$.__views.__alloyId66!click!deleteAll"]=!0,l.__views.__alloyId67=Ti.UI.createTableView({width:"90%",id:"__alloyId67"}),l.__views.__alloyId62.add(l.__views.__alloyId67);var u=Alloy.Collections.cart||cart;u.on("fetch destroy change add remove reset",e),l.__views.__alloyId60=Ti.UI.createTab({window:l.__views.__alloyId61,title:"Cart",icon:"/cart.png",id:"__alloyId60"}),c.push(l.__views.__alloyId60),l.__views.__alloyId82=Ti.UI.createWindow({backgroundColor:"#fff",title:"Contact Us",id:"__alloyId82"});var p=[];l.__views.__alloyId85=Ti.UI.createTableViewRow({id:"__alloyId85"}),p.push(l.__views.__alloyId85),l.__views.__alloyId86=Ti.UI.createView({layout:"horizontal",height:"50%",id:"__alloyId86"}),l.__views.__alloyId85.add(l.__views.__alloyId86),l.__views.__alloyId87=Ti.UI.createTextArea({editable:"false",left:"10dp",backgroundColor:"transparent",value:"Eline Saarloos\nStudent number: 15501701\nCountry: Netherlands\nPhone: 5244 9691\nEmail: 15501701@life.hkbu.edu.hk",id:"__alloyId87"}),l.__views.__alloyId86.add(l.__views.__alloyId87),l.__views.__alloyId88=Ti.UI.createImageView({image:"/Eline.png",height:"120dp",width:"120dp",right:"10dp",id:"__alloyId88"}),l.__views.__alloyId86.add(l.__views.__alloyId88),l.__views.__alloyId89=Ti.UI.createTableViewRow({id:"__alloyId89"}),p.push(l.__views.__alloyId89),l.__views.__alloyId90=Ti.UI.createView({layout:"horizontal",height:"50%",id:"__alloyId90"}),l.__views.__alloyId89.add(l.__views.__alloyId90),l.__views.__alloyId91=Ti.UI.createImageView({image:"/SunXiaomeng.jpg",height:"120dp",width:"120dp",left:"10dp",id:"__alloyId91"}),l.__views.__alloyId90.add(l.__views.__alloyId91),l.__views.__alloyId92=Ti.UI.createTextArea({editable:"false",left:"10dp",backgroundColor:"transparent",value:"Sun Xiaomeng\nStudent number: 12251216\nCountry: China\nPhone: 5612 7210\nEmail: 12251216@life.hkbu.edu.hk",id:"__alloyId92"}),l.__views.__alloyId90.add(l.__views.__alloyId92),l.__views.__alloyId83=Ti.UI.createTableView({data:p,id:"__alloyId83"}),l.__views.__alloyId82.add(l.__views.__alloyId83),l.__views.__alloyId81=Ti.UI.createTab({window:l.__views.__alloyId82,title:"Contact Us",icon:"/contact.png",id:"__alloyId81"}),c.push(l.__views.__alloyId81),l.__views.index=Ti.UI.createTabGroup({tabs:c,id:"index"}),l.__views.index&&l.addTopLevelView(l.__views.index),n.destroy=function(){u.off("fetch destroy change add remove reset",e)},_.extend(l,l.__views),l.index.open(),Alloy.Collections.items.fetch(),Alloy.Collections.cart.fetch();var y,v=Alloy.Collections.cart;Alloy.Globals.tabGroup=l.index,d["$.__views.__alloyId56!click!categories"]&&l.addListener(l.__views.__alloyId56,"click",i),d["$.__views.__alloyId58!click!about"]&&l.addListener(l.__views.__alloyId58,"click",r),d["$.__views.__alloyId61!focus!setTotalPrice"]&&l.addListener(l.__views.__alloyId61,"focus",t),d["$.__views.__alloyId66!click!deleteAll"]&&l.addListener(l.__views.__alloyId66,"click",a),d["__alloyId78!click!deleteOne"]&&l.addListener(__alloyId78,"click",s),_.extend(l,n)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;